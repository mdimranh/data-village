{% extends 'dashboard/base.html' %}
{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static 'packages/ckeditor5/sample/styles.css' %}">
    <link rel="stylesheet" href="{% static 'packages/ckeditor5/sample/tailwind-reset.css' %}">
{% endblock style %}
    
{% block main %}
    <div class="flex justify-between items-center px-3 py-1 bg-white border-b border-b-slate-300">
        <h1 class="font-bold text-2xl text-slate-500">Refund Policy</h1>
        <nav class="flex my-4" aria-label="Breadcrumb">
            <ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
                <li class="inline-flex items-center">
                    <a href="/admin" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white">
                    <svg class="w-3 h-3 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                        <path d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"/>
                    </svg>
                    Home
                    </a>
                </li>
                <li>
                    <div class="flex items-center">
                        <svg class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                        </svg>
                        <div class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white">
                            <svg class="flex-shrink-0 w-3.5 h-4 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <path d="M5.67591 4.25667C9.60392 1.03828 15.4094 1.26236 19.076 4.92893C22.9812 8.83418 22.9812 15.1658 19.076 19.0711C15.1707 22.9763 8.83906 22.9763 4.93382 19.0711C2.40932 16.5466 1.51676 13.0081 2.25611 9.76666L2.33275 9.45394L4.26718 9.96315C3.56967 12.623 4.26329 15.5721 6.34803 17.6569C9.47222 20.781 14.5375 20.781 17.6617 17.6569C20.7859 14.5327 20.7859 9.46734 17.6617 6.34315C14.8441 3.5255 10.4475 3.24903 7.32006 5.51375L7.09886 5.67983L8.1158 6.6967L3.5196 7.75736L4.58026 3.16117L5.67591 4.25667ZM13.0049 6V8H15.5049V10H10.0049C9.72874 10 9.50488 10.2239 9.50488 10.5C9.50488 10.7455 9.68176 10.9496 9.91501 10.9919L10.0049 11H14.0049C15.3856 11 16.5049 12.1193 16.5049 13.5C16.5049 14.8807 15.3856 16 14.0049 16H13.0049V18H11.0049V16H8.50488V14H14.0049C14.281 14 14.5049 13.7761 14.5049 13.5C14.5049 13.2545 14.328 13.0504 14.0948 13.0081L14.0049 13H10.0049C8.62417 13 7.50488 11.8807 7.50488 10.5C7.50488 9.11929 8.62417 8 10.0049 8H11.0049V6H13.0049Z" fill="currentColor"></path>
                            </svg>
                            Refund Policy
                        </div>
                    </div>
                </li>
            </ol>
        </nav>
    </div>

    <form class="p-4" method="POST">
        {% csrf_token %}
        <input type="hidden" name="editor_content" id="hiddenEditorInput">
        <textarea name="body" id="editor" class="editor p-4">{{ privacy.body }}</textarea>
        <div class="flex justify-center mt-4">
            <button class="px-2 py-1 bg-green-500 text-white rounded-md">Update</button>
        </div>
    </form>
    

    <script src="{% static 'packages/ckeditor5/build/ckeditor.js' %}"></script>
    {% comment %} <script src="{% static 'packages/ckeditor5/sample/script.js' %}"></script> {% endcomment %}
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            ClassicEditor.create(document.querySelector('#editor'), {
                    removePlugins: ["MediaEmbedToolbar"],
                })
                .then(editor => {
                    window.editor = editor;
                })
        
            document.querySelector('form').addEventListener('submit', function (event) {
                event.preventDefault();
                const editorData = document.querySelector('.ck-content').innerHTML;
                document.querySelector('#hiddenEditorInput').value = editorData;
                this.submit();
            });
        });
        
    </script>

{% endblock main %}
    